% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/logrank_grid_stratified.R
\name{logrank_grid_stratified}
\alias{logrank_grid_stratified}
\title{Grid over (rho, gamma) for the stratified weighted log-rank}
\usage{
logrank_grid_stratified(
  data,
  time,
  status,
  group,
  strata,
  grid = expand.grid(rho = c(0, 0.5, 1), gamma = c(0, 0.5, 1))
)
}
\arguments{
\item{data}{data.frame with time, status, group, strata.}

\item{time, status, group, strata}{Character names of columns.}

\item{grid}{Optional data.frame with rho, gamma; default {0,0.5,1}x{0,0.5,1}.}
}
\value{
data.frame with rho, gamma, statistic, p.value
}
\description{
Grid over (rho, gamma) for the stratified weighted log-rank
}
\examples{
\dontrun{
  if (requireNamespace("survival", quietly = TRUE)) {
    data(lung, package = "survival")
    lung$status01 <- as.integer(lung$status == 2)
    # Use ECOG performance as strata; drop NAs
    df <- lung[complete.cases(lung[, c("time","status01","sex","ph.ecog")]), ]

    # Default grid
    gdf <- logrank_grid_stratified(df, time = "time", status = "status01",
                                   group = "sex", strata = "ph.ecog")
    head(gdf)

    # Custom grid
    grd <- expand.grid(rho = c(0, 1), gamma = c(0, 1))
    gdf2 <- logrank_grid_stratified(df, "time", "status01", "sex", "ph.ecog", grid = grd)
    # Best (smallest p-value)
    gdf2[order(gdf2$p.value), ][1, ]
  }
}
}
