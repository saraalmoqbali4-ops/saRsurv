% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_km_alpha.R
\name{plot_km_alpha}
\alias{plot_km_alpha}
\title{Stratified Kaplan-Meier Plot with Risk-Based Transparency}
\usage{
plot_km_alpha(
  fit,
  data,
  group_var,
  transform = c("log", "sqrt", "linear", "power", "reverse"),
  power = 0.5,
  min_alpha = 0.3,
  max_alpha = 1,
  return_plot = FALSE,
  ...
)
}
\arguments{
\item{fit}{A \code{survfit} object (with or without strata).}

\item{data}{A data frame used to fit \code{fit}.}

\item{group_var}{Character. Column name in \code{data} indicating strata or groups.}

\item{transform}{Transformation method for alpha scaling.
One of \code{"log"}, \code{"sqrt"}, \code{"linear"}, \code{"power"}, or \code{"reverse"}.}

\item{power}{Numeric exponent used when \code{transform = "power"}. Default = 0.5.}

\item{min_alpha}{Lower bound for alpha, in \verb{[0, 1]}.}

\item{max_alpha}{Upper bound for alpha, in \verb{[0, 1]}.}

\item{return_plot}{Logical; if TRUE, returns only the ggplot object.}

\item{...}{Additional arguments passed to \code{\link[survminer:ggsurvplot]{survminer::ggsurvplot()}}.}
}
\value{
A \code{ggsurvplot} object (or \code{ggplot} if \code{return_plot = TRUE}),
with per-stratum alpha mapped according to group sizes.
}
\description{
Produces a Kaplan-Meier plot where each stratum (group) is displayed
with transparency proportional to its sample size.
Larger groups appear more opaque, smaller ones more transparent.
}
\examples{
\dontrun{
if (requireNamespace("survival", quietly = TRUE) &&
    requireNamespace("survminer", quietly = TRUE)) {

  data("lung", package = "survival")
  lung$status01 <- as.integer(lung$status == 2)
  fit <- survival::survfit(survival::Surv(time, status01) ~ sex, data = lung)

  # Log scaling (default)
  gp <- plot_km_alpha(fit, lung, "sex")
  print(gp$plot)
}
}
}
