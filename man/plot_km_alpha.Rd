% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_km_alpha.R
\name{plot_km_alpha}
\alias{plot_km_alpha}
\title{Stratified KM plot with risk-based transparency}
\usage{
plot_km_alpha(
  fit,
  data,
  group_var,
  transform = c("log", "sqrt", "linear"),
  min_alpha = 0.3,
  max_alpha = 1,
  ...
)
}
\arguments{
\item{fit}{A \code{survfit} object (with or without strata).}

\item{data}{A data frame used to fit \code{fit}.}

\item{group_var}{Character. Column name in \code{data} indicating strata or groups.}

\item{transform}{Transformation method. One of \code{"log"}, \code{"sqrt"}, or \code{"linear"}.}

\item{min_alpha}{Lower bound for alpha, in \verb{[0, 1]}.}

\item{max_alpha}{Upper bound for alpha, in \verb{[0, 1]}.}

\item{...}{Additional arguments passed to \code{survminer::ggsurvplot()}.}
}
\value{
A \code{ggsurvplot} object with alpha mapped per stratum.
}
\description{
Applies per-stratum transparency (alpha) proportional to group size.
}
\examples{
\dontrun{
# Example using the 'lung' dataset
if (requireNamespace("survival", quietly = TRUE) &&
    requireNamespace("survminer", quietly = TRUE) &&
    requireNamespace("ggplot2", quietly = TRUE)) {

  data("lung", package = "survival")

  # Convert status to 1 = event (death), 0 = censor
  lung$status01 <- as.integer(lung$status == 2)

  # Fit stratified KM by sex (1/2)
  fit_sex <- survival::survfit(survival::Surv(time, status01) ~ sex, data = lung)

  # Default (log transform): alpha scaled to group sizes
  gp1 <- plot_km_alpha(fit = fit_sex, data = lung, group_var = "sex")
  print(gp1$plot)

  # Try other transforms and bounds
  gp2 <- plot_km_alpha(
    fit = fit_sex,
    data = lung,
    group_var = "sex",
    transform = "sqrt",
    min_alpha = 0.2,
    max_alpha = 0.9
  )
  print(gp2$plot)
}
}

}
